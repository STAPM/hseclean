<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Process data on alcohol consumption • hseclean</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Process data on alcohol consumption">
<meta property="og:description" content="hseclean">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hseclean</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.6.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/alcohol_data.html">Process data on alcohol consumption</a>
    </li>
    <li>
      <a href="../articles/covariate_data.html">Process data on individual socioeconomic, demographic and health characteristics</a>
    </li>
    <li>
      <a href="../articles/missing_data.html">Imputation of missing data</a>
    </li>
    <li>
      <a href="../articles/scottish_data.html">Addition of Scottish data</a>
    </li>
    <li>
      <a href="../articles/smoking_data.html">Process data on tobacco smoking</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="alcohol_data_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Process data on alcohol consumption</h1>
            
      
      
      <div class="hidden name"><code>alcohol_data.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>Alcohol consumption data in the Health Survey for England (HSE) is recorded in four main forms:</p>
<ul>
<li>How often someone usually drinks<br>
</li>
<li>For adults considering the last 12 months, what they drink on average<br>
</li>
<li>For adults considering the last week, when they drank the most<br>
</li>
<li>For children considering the last week, what they drank</li>
</ul>
<p>Both adults and children have data on whether they drink alcohol or not, and on the frequency of drinking. The main difference between the recording of data for adults and children is that adults have a lot of data on how much and what they drink, but children only have data on the amount drunk in the last week.</p>
<p>The recording of data varies among years of the HSE. We consider years from 2001 onwards. The main features of these changes in recording are:</p>
<ul>
<li>Adult drinking in the last 12 months is only recorded for years 2001, 2002, and 2011 onwards.<br>
</li>
<li>Adult drinking in the last 12 months is recorded in different terms for 2001/2 and 2011+.<br>
</li>
<li>In 2007, the way that wine was recorded changed from asking how many glasses (with a size of 125ml assumed) to asking how many glasses of either 125ml, 175ml or 250ml. Therefore the post HSE 2007 unit calculations are not directly comparable to previous years’ data.</li>
</ul>
<p>Due to the variability in recording, we only consider data on the amount drunk by adults and children from 2011 onwards.</p>
<p>We analyse beverage-specific alcohol consumption in terms of beer (combining normal beer, strong beer), wine (combining wine and sherry), spirits, and alcopops.</p>
</div>
<div id="reading-the-hse-data-files" class="section level1">
<h1 class="hasAnchor">
<a href="#reading-the-hse-data-files" class="anchor"></a>Reading the HSE data files</h1>
<p>There are separate functions in the hseclean package to read each year of HSE data e.g. <code><a href="../reference/read_2016.html">read_2016()</a></code>. These functions link to where the data is stored in the project folder <code>PR_Consumption_TA</code>. They read in all variables related to alcohol and selected socioeconomic and other descriptor variables.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r">
<span class="co"># First test that each year of data can be read successfully</span>

<span class="co"># If on uni system set the root directory as</span>
<span class="no">root_dir</span> <span class="kw">&lt;-</span> <span class="st">"X:/"</span>

<span class="co"># Each function has the file path to each year of data added to it as a default</span>

<span class="no">test_2001</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2001.html">read_2001</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2002</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2002.html">read_2002</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2003</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2003.html">read_2003</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2004</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2004.html">read_2004</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2005</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2005.html">read_2005</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2006</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2006.html">read_2006</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2007</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2007.html">read_2007</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2008</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2008.html">read_2008</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2009</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2009.html">read_2009</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2010</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2010.html">read_2010</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2011</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2011.html">read_2011</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2012</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2012.html">read_2012</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2013</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2013.html">read_2013</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2014</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2014.html">read_2014</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2015</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2015.html">read_2015</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2016</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2016.html">read_2016</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)
<span class="no">test_2017</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2017.html">read_2017</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>)</pre></body></html></div>
</div>
<div id="processing-socioeconomic-variables" class="section level1">
<h1 class="hasAnchor">
<a href="#processing-socioeconomic-variables" class="anchor"></a>Processing socioeconomic variables</h1>
<p>There are separate functions to process each socioeconomic variables - detailed descriptions of what these functions do are given in <code><a href="../articles/covariate_data.html">vignette("covariate_data")</a></code>.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r">
<span class="co"># Test each cleaning function on one year of data</span>

<span class="no">temp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_2017.html">read_2017</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="no">root_dir</span>) <span class="kw">%&gt;%</span>
  <span class="no">clean_age</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_demographic</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_education</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_economic_status</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_family</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_income</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_health_and_bio</span></pre></body></html></div>
</div>
<div id="whether-someone-drinks-and-frequency-of-drinking" class="section level1">
<h1 class="hasAnchor">
<a href="#whether-someone-drinks-and-frequency-of-drinking" class="anchor"></a>Whether someone drinks and frequency of drinking</h1>
<p>Calculated for adults (aged 16 years or older) and children (aged 8 to 15 years) by the function <code><a href="../reference/alc_drink_now_allages.html">alc_drink_now_allages()</a></code>. We combine the information on drinking frequency from adults and children into a single variable.</p>
<p>We calculate the variable <code>drinks_now</code>, which classes someone as either a drinker or a non-drinker. Adults are classed as drinkers if they reported drinking at all in the last 12 months, even if reporting only having 1-2 drinks a year (according to the variable <code>dnoft</code>). Note that this definition of a non-drinker can vary among surveys, e.g. some surveys class only having 1-2 drinks a year as a non-drinker, and this could lead to variation in estimates of the number of non-drinkers.</p>
<p>We calculate the variable <code>drink_freq_7d</code>, which is a numerical variable that described drinking frequency. Adult drinking frequency is also inferred from the variable <code>dnoft</code>: the function <code><a href="../reference/alc_drink_freq.html">alc_drink_freq()</a></code> converts the categorical responses into the expected number of days in a week that someone drinks.</p>
<ul>
<li>“Almost every day” = 7 days a week<br>
</li>
<li>“Five or six days a week” = 5.5 days a week<br>
</li>
<li>“Three or four days a week” = 3.5 days a week<br>
</li>
<li>“Once or twice a week” = 1.5 days a week<br>
</li>
<li>“Once or twice a month” = 0.375 days a week<br>
</li>
<li>“Once every couple of months” = 0.188 days a week<br>
</li>
<li>“Once or twice a year” = 0.029 days a week</li>
</ul>
<p>Missing data on whether or not someone currently drinks (<code>drinks_now</code>) is supplemented by responses to if currently drinks or if always non-drinker (the variables <code>dnnow</code>, <code>dnany</code> and <code>dnevr</code>).</p>
<p>For children (aged 8-15 years) we infer whether someone drinks or not (<code>drinks_now</code>) from the variable <code>adrinkof</code>. Someone is a non-drinker if they responded <code>never</code> to <code>adrinkof</code>. The categorical responses are converted into the expected number of days in a week that someone drinks as follows</p>
<ul>
<li>“Almost every day” = 7 days a week<br>
</li>
<li>“Twice a week” = 2 days a week<br>
</li>
<li>“Once a week” = 1 days a week<br>
</li>
<li>“Once a fortnight” = 0.5 days a week<br>
</li>
<li>“Once a month” = 0.25 days a week<br>
</li>
<li>“Only a few times a year” = 0.058 days a week</li>
</ul>
<p>Missing data on whether or not a child currently drinks (<code>drinks_now</code>) is supplemented by responses to when they last had an alcoholic drink (<code>adrlast</code>): if the last drink was less than six months ago, then we classify them as a drinker; if the last drink was six months or more ago, then we classify them as a non-drinker.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r">
<span class="co"># Number of sampled drinkers and non-drinkers in 2017</span>
<span class="fu"><a href="../reference/read_2017.html">read_2017</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="st">"X:/"</span>) <span class="kw">%&gt;%</span>
  <span class="no">clean_age</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_demographic</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_drink_now_allages</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">age</span> <span class="kw">&lt;</span> <span class="fl">90</span>, <span class="no">age</span> <span class="kw">&gt;=</span> <span class="fl">8</span>) <span class="kw">%&gt;%</span>
  <span class="fu">group_by</span>(<span class="no">imd_quintile</span>) <span class="kw">%&gt;%</span>
  <span class="fu">count</span>(<span class="no">drinks_now</span>) <span class="kw">%&gt;%</span>
  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">drinks_now</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">n</span>, <span class="kw">fill</span> <span class="kw">=</span> <span class="no">imd_quintile</span>)) +
  <span class="fu">geom_bar</span>(<span class="kw">stat</span> <span class="kw">=</span> <span class="st">"identity"</span>, <span class="kw">position</span> <span class="kw">=</span> <span class="st">"dodge"</span>) +
  <span class="fu">theme_minimal</span>() +
  <span class="fu">ylab</span>(<span class="st">"number of observations"</span>)</pre></body></html></div>
<div class="sourceCode" id="cb4"><html><body><pre class="r">
<span class="co"># Frequency of drinking in 2017 among drinkers</span>
<span class="fu"><a href="../reference/read_2017.html">read_2017</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="st">"X:/"</span>) <span class="kw">%&gt;%</span>
  <span class="no">clean_age</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_demographic</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_drink_now_allages</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">age</span> <span class="kw">&lt;</span> <span class="fl">90</span>, <span class="no">age</span> <span class="kw">&gt;=</span> <span class="fl">8</span>, <span class="no">drinks_now</span> <span class="kw">==</span> <span class="st">"drinker"</span>) <span class="kw">%&gt;%</span>
  <span class="fu">group_by</span>(<span class="no">imd_quintile</span>, <span class="no">age_cat</span>) <span class="kw">%&gt;%</span>
  <span class="fu">summarise</span>(<span class="kw">av_freq</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">drink_freq_7d</span>, <span class="kw">na.rm</span> <span class="kw">=</span> <span class="no">T</span>)) <span class="kw">%&gt;%</span>
  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">imd_quintile</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">av_freq</span>, <span class="kw">fill</span> <span class="kw">=</span> <span class="no">age_cat</span>)) +
  <span class="fu">geom_bar</span>(<span class="kw">stat</span> <span class="kw">=</span> <span class="st">"identity"</span>, <span class="kw">position</span> <span class="kw">=</span> <span class="st">"dodge"</span>) +
  <span class="fu">theme_minimal</span>() +
  <span class="fu">ylab</span>(<span class="st">"average number of days drink in a week"</span>)</pre></body></html></div>
</div>
<div id="average-amount-of-alcohol-consumed" class="section level1">
<h1 class="hasAnchor">
<a href="#average-amount-of-alcohol-consumed" class="anchor"></a>Average amount of alcohol consumed</h1>
<div id="assumptions-about-serving-size-and-alcohol-content" class="section level2">
<h2 class="hasAnchor">
<a href="#assumptions-about-serving-size-and-alcohol-content" class="anchor"></a>Assumptions about serving size and alcohol content</h2>
<p>Some standard assumptions are made about the volume and alcohol content of the beverages that are reported to be drunk. The values that we use for these assumptions are based on those used by Natcen to create the derived variables for units of alcohol consumed in the HSE. We have made our own adjustments to the values used based on further information from market research data and figures from academic publications.</p>
<p>Alcohol content assumptions are the expected percentages of alcohol that each beverage contains (alcohol by volume, ABV). We use separate values for normal beer (4.4%), strong beer (8.4%), spirits (38%), sherry (17%), wine (12.5%), and alcopops (also known as “ready to drink” or RTD) (4.5%).</p>
<p>Beverage volume assumptions are the expected volumes (ml) of different beverage containers / serving sizes. We use separate values for normal and strong beer (half pint 284ml, small can 330ml, large can 440ml, bottle 330ml), spirits (serving 25ml), sherry (serving 50ml), wine (small glass 125ml, standard glass 175ml, large glass 250ml, bottle 750ml), and alcopops (small can 250ml, small bottle 275ml, large bottle 700ml).</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="co"># These data are stored within the hseclean package for easy use</span>
<span class="co"># they can be accessed by typing </span>

<span class="kw pkg">hseclean</span><span class="kw ns">::</span><span class="no"><a href="../reference/abv_data.html">abv_data</a></span>

<span class="kw pkg">hseclean</span><span class="kw ns">::</span><span class="no"><a href="../reference/alc_volume_data.html">alc_volume_data</a></span></pre></body></html></div>
</div>
<div id="adult-average-weekly-consumption-in-the-last-12-months" class="section level2">
<h2 class="hasAnchor">
<a href="#adult-average-weekly-consumption-in-the-last-12-months" class="anchor"></a>Adult average weekly consumption in the last 12 months</h2>
<p>We estimate the average amount drunk in a week (<code>weekmean</code>) in terms of UK standard units of alcohol (1 unit = 10ml or 8g pure ethanol). The average amount drunk is then categorised as follows:</p>
<ul>
<li>
<code>abstainer</code> = 0 units/week<br>
</li>
<li>
<code>lower_risk</code> drinker = less than 14 units/week<br>
</li>
<li>
<code>increasing_risk</code> drinker = 14 or more units/week but less than 35 units/week for females or less than 50 units/week for males<br>
</li>
<li>
<code>higher_risk</code> drinker = 35 or more units/week for females or 50 or more units/week for males</li>
</ul>
<p>Separate variables are produced describing the average weekly units in four beverage categories: <code>beer_units</code> (including cider), <code>wine_units</code> (including sherry), <code>spirit_units</code>, <code>rtd_units</code> (this is alcopops). Further variables on beverage preference are produced that:</p>
<ul>
<li>describe the percentage of the total consumption in a week that is contributed by each beverage type (<code>per_spirit_units</code>, <code>perc_wine_units</code>, <code>perc_beer_units</code>, <code>perc_rtd_units</code>).<br>
</li>
<li>describe whether or not someone shows a clear beverage preference e.g. <code>does_not_drink_spirits</code>, <code>drinks_some_spirits</code>, <code>mostly_drinks_spirits</code>, where “mostly drinks” is defined by a single beverage comprising more that 50% of an individuals average weekly consumption.</li>
</ul>
<p>The processing is done by the function <code><a href="../reference/alc_weekmean_adult.html">alc_weekmean_adult()</a></code>. The calculation has the following steps:</p>
<ul>
<li>Convert the categorical variables to numeric variables for the frequency with which each beverage is typically consumed (normal beer, strong beer, spirits, sherry, wine, alcopops).<br>
</li>
<li>Convert the reported volumes usually consumed (e.g. small glass, large glass) into volumes in ml, using the beverage size assumptions above. In doing so, variations in recording among years and between the interview and self-complete questionnaire are accounted for.<br>
</li>
<li>Combine the volumes (ml) usually consumed with the frequency of consumption to give the average volume of each beverage type drunk each week (assuming constant consumption across the year).<br>
</li>
<li>Convert the expected volumes of each beverage consumed each week to UK standard units of alcohol consumed, using the alcohol content assumptions above.<br>
</li>
<li>Collapse normal and strong beer into a single “beer” variable by summing their units. Collapse wine and sherry into a single “wine” variable by summing their units.<br>
</li>
<li>Calculate total weekly units but summing across beverage categories.<br>
</li>
<li>Cap the total units consumed in a week at 300 units, assuming that above this already very high level of consumption estimates of variation in consumption are less reliable.</li>
</ul>
<div class="sourceCode" id="cb6"><html><body><pre class="r">
<span class="co"># Average weekly units drunk in 2017</span>
<span class="fu"><a href="../reference/read_2017.html">read_2017</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="st">"X:/"</span>) <span class="kw">%&gt;%</span>
  <span class="no">clean_age</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_demographic</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_drink_now_allages</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_weekmean_adult</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">age</span> <span class="kw">&lt;</span> <span class="fl">90</span>, <span class="no">age</span> <span class="kw">&gt;=</span> <span class="fl">16</span>) <span class="kw">%&gt;%</span>
  <span class="fu">group_by</span>(<span class="no">imd_quintile</span>, <span class="no">age_cat</span>) <span class="kw">%&gt;%</span>
  <span class="fu">summarise</span>(<span class="kw">av_amount</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">weekmean</span>, <span class="kw">na.rm</span> <span class="kw">=</span> <span class="no">T</span>)) <span class="kw">%&gt;%</span>
  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">imd_quintile</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">av_amount</span>, <span class="kw">fill</span> <span class="kw">=</span> <span class="no">age_cat</span>)) +
  <span class="fu">geom_bar</span>(<span class="kw">stat</span> <span class="kw">=</span> <span class="st">"identity"</span>, <span class="kw">position</span> <span class="kw">=</span> <span class="st">"dodge"</span>) +
  <span class="fu">theme_minimal</span>() +
  <span class="fu">ylab</span>(<span class="st">"average number of units drunk in a week"</span>)</pre></body></html></div>
<div class="sourceCode" id="cb7"><html><body><pre class="r">
<span class="co"># Number of sampled people in each drinker category in 2017</span>
<span class="fu"><a href="../reference/read_2017.html">read_2017</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="st">"X:/"</span>) <span class="kw">%&gt;%</span>
  <span class="no">clean_age</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_demographic</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_drink_now_allages</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_weekmean_adult</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">age</span> <span class="kw">&lt;</span> <span class="fl">90</span>, <span class="no">age</span> <span class="kw">&gt;=</span> <span class="fl">16</span>) <span class="kw">%&gt;%</span>
  <span class="fu">group_by</span>(<span class="no">imd_quintile</span>) <span class="kw">%&gt;%</span>
  <span class="fu">count</span>(<span class="no">drinker_cat</span>) <span class="kw">%&gt;%</span>
  <span class="fu">mutate</span>(<span class="kw">drinker_cat</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="no">drinker_cat</span>,
    <span class="kw">levels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"abstainer"</span>, <span class="st">"lower_risk"</span>, <span class="st">"increasing_risk"</span>, <span class="st">"higher_risk"</span>))) <span class="kw">%&gt;%</span>
  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">drinker_cat</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">n</span>, <span class="kw">fill</span> <span class="kw">=</span> <span class="no">imd_quintile</span>)) +
  <span class="fu">geom_bar</span>(<span class="kw">stat</span> <span class="kw">=</span> <span class="st">"identity"</span>, <span class="kw">position</span> <span class="kw">=</span> <span class="st">"dodge"</span>) +
  <span class="fu">theme_minimal</span>() +
  <span class="fu">ylab</span>(<span class="st">"number of observations"</span>)</pre></body></html></div>
</div>
<div id="adult-consumption-on-the-heaviest-drinking-day-in-the-last-week" class="section level2">
<h2 class="hasAnchor">
<a href="#adult-consumption-on-the-heaviest-drinking-day-in-the-last-week" class="anchor"></a>Adult consumption on the heaviest drinking day in the last week</h2>
<p>The function <code><a href="../reference/alc_sevenday_adult.html">alc_sevenday_adult()</a></code> processes the information from the questions on adult (16 or more years old) drinking in the last seven days:</p>
<ul>
<li>Number of days drank on in the last seven, <code>n_days_drink</code>.<br>
</li>
<li>the characteristics of drinking on the heaviest drinking day</li>
</ul>
<p>We estimate the number of UK standard units of alcohol drunk on the heaviest drinking day (<code>peakday</code>) by using the data on how many of what size measures of different beverages were drunk, and combining this with our standard assumptions about beverage volume and alcohol content. We further estimate their total units drunk of each beverage type on the heaviest drinking day (<code>d7nbeer_units</code>, <code>d7sbeer_units</code>, <code>d7spirits_units</code>, <code>d7sherry_units</code>, <code>d7wine_units</code>, <code>d7pops_units</code>).</p>
<p>Binge drinking status is then categorised into the variable <code>binge_cat</code>, with levels <code>did_not_drink</code>, <code>binge</code> and <code>no_binge</code>, where a binge day in defined by males drinking over 8 units and females drinking over 6 units.</p>
<p>Note that in 2007 new questions were added asking which glass size was used when wine was consumed. Therefore the post HSE 2007 unit calculations are not directly comparable to previous years’ data.</p>
<p>Missing data is imputed using the means of people who did drink in the last seven days, stratified by year, sex, IMD quintile and age category (0-1, 2-4, 5-7, 8-10, 11-12, 13-15, 16-17, 18-19, 20-24, 25-29, 30-34, 35-39, 40-44, 45-49, 50-54, 55-59, 60-64, 65-69, 70-74, 75-79, 80-84, 85-89, 90+).</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r">
<span class="co"># drinking in last 7 days in 2017</span>
<span class="fu"><a href="../reference/read_2017.html">read_2017</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="st">"X:/"</span>) <span class="kw">%&gt;%</span>
  <span class="no">clean_age</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_demographic</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_drink_now_allages</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_weekmean_adult</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_sevenday_adult</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">age</span> <span class="kw">&lt;</span> <span class="fl">90</span>, <span class="no">age</span> <span class="kw">&gt;=</span> <span class="fl">16</span>) <span class="kw">%&gt;%</span>
  <span class="fu">group_by</span>(<span class="no">imd_quintile</span>, <span class="no">age_cat</span>, <span class="no">sex</span>) <span class="kw">%&gt;%</span>
  <span class="fu">summarise</span>(<span class="kw">n_days7</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">n_days_drink</span>, <span class="kw">na.rm</span> <span class="kw">=</span> <span class="no">T</span>),
            <span class="kw">amount7</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">peakday</span>, <span class="kw">na.rm</span> <span class="kw">=</span> <span class="no">T</span>)) <span class="kw">%&gt;%</span>
  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">n_days7</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">amount7</span>, <span class="kw">colour</span> <span class="kw">=</span> <span class="no">age_cat</span>, <span class="kw">shape</span> <span class="kw">=</span> <span class="no">sex</span>)) +
  <span class="fu">geom_point</span>(<span class="kw">size</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.5</span>) +
  <span class="fu">facet_wrap</span>(~ <span class="no">imd_quintile</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">1</span>) +
  <span class="fu">theme_minimal</span>() +
  <span class="fu">ylab</span>(<span class="st">"average amount drunk on heaviest drinking day"</span>) +
  <span class="fu">xlab</span>(<span class="st">"average number of days drunk on in last 7"</span>)</pre></body></html></div>
<div class="sourceCode" id="cb9"><html><body><pre class="r">
<span class="co"># Number of sampled people in each binge drinker category in 2017</span>
<span class="fu"><a href="../reference/read_2017.html">read_2017</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="st">"X:/"</span>) <span class="kw">%&gt;%</span>
  <span class="no">clean_age</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_demographic</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_drink_now_allages</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_weekmean_adult</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_sevenday_adult</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">age</span> <span class="kw">&lt;</span> <span class="fl">90</span>, <span class="no">age</span> <span class="kw">&gt;=</span> <span class="fl">16</span>) <span class="kw">%&gt;%</span>
  <span class="fu">group_by</span>(<span class="no">imd_quintile</span>) <span class="kw">%&gt;%</span>
  <span class="fu">count</span>(<span class="no">binge_cat</span>) <span class="kw">%&gt;%</span>
  <span class="fu">mutate</span>(<span class="kw">binge_cat</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="no">binge_cat</span>,
    <span class="kw">levels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"did_not_drink"</span>, <span class="st">"no_binge"</span>, <span class="st">"binge"</span>))) <span class="kw">%&gt;%</span>
  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">binge_cat</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">n</span>, <span class="kw">fill</span> <span class="kw">=</span> <span class="no">imd_quintile</span>)) +
  <span class="fu">geom_bar</span>(<span class="kw">stat</span> <span class="kw">=</span> <span class="st">"identity"</span>, <span class="kw">position</span> <span class="kw">=</span> <span class="st">"dodge"</span>) +
  <span class="fu">theme_minimal</span>() +
  <span class="fu">ylab</span>(<span class="st">"number of observations"</span>)</pre></body></html></div>
</div>
<div id="childrens-consumption-in-the-last-week" class="section level2">
<h2 class="hasAnchor">
<a href="#childrens-consumption-in-the-last-week" class="anchor"></a>Children’s consumption in the last week</h2>
<p>The function <code><a href="../reference/alc_sevenday_child.html">alc_sevenday_child()</a></code> processes the information on drinking by children (ages 13-15) in the last seven days. The data on children’s drinking comes in the form of survey questions on whether or not they have drunk each beverage type in the last week, and if so, how much of each was drunk. The main output is the variable <code>total_units7_ch</code> - the total units drunk in the last seven days.</p>
<p>We estimate the number of UK standard units of alcohol drunk in the last 7 days by using the data on how many of what size measures of different beverages were drunk, and combining this with our standard assumptions about beverage volume and alcohol content.</p>
<p>The information from this question is also used to update the <code>drinks_now</code> variable to make it a variable that describes whether or not adults and children drink.</p>
<p>Due to high missingness in this variable, we assume that anyone who has missing data for this variable does not drink. This means that we are likely to under-estimate the number of children who drink.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r">
<span class="co"># drinking by age in 2017</span>
<span class="fu"><a href="../reference/read_2017.html">read_2017</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="st">"X:/"</span>) <span class="kw">%&gt;%</span>
  <span class="no">clean_age</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_demographic</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_drink_now_allages</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_weekmean_adult</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_sevenday_adult</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_sevenday_child</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">age</span> <span class="kw">&lt;</span> <span class="fl">90</span>, <span class="no">age</span> <span class="kw">&gt;=</span> <span class="fl">13</span>) <span class="kw">%&gt;%</span>
  <span class="fu">group_by</span>(<span class="no">age_cat</span>, <span class="no">sex</span>) <span class="kw">%&gt;%</span>
  <span class="fu">count</span>(<span class="no">drinks_now</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">drinks_now</span> <span class="kw">==</span> <span class="st">"drinker"</span>) <span class="kw">%&gt;%</span>
  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">age_cat</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">n</span>, <span class="kw">shape</span> <span class="kw">=</span> <span class="no">sex</span>, <span class="kw">colour</span> <span class="kw">=</span> <span class="no">sex</span>)) +
  <span class="fu">geom_point</span>(<span class="kw">size</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.5</span>) +
  <span class="fu">facet_wrap</span>(~ <span class="no">sex</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">1</span>) +
  <span class="fu">theme_minimal</span>() +
  <span class="fu">ylab</span>(<span class="st">"number of observations"</span>)</pre></body></html></div>
<div class="sourceCode" id="cb11"><html><body><pre class="r">
<span class="co"># drinking by age in 2017</span>
<span class="fu"><a href="../reference/read_2017.html">read_2017</a></span>(<span class="kw">root</span> <span class="kw">=</span> <span class="st">"X:/"</span>) <span class="kw">%&gt;%</span>
  <span class="no">clean_age</span> <span class="kw">%&gt;%</span>
  <span class="no">clean_demographic</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_drink_now_allages</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_weekmean_adult</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_sevenday_adult</span> <span class="kw">%&gt;%</span>
  <span class="no">alc_sevenday_child</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">age</span> <span class="kw">&lt;</span> <span class="fl">90</span>, <span class="no">age</span> <span class="kw">&gt;=</span> <span class="fl">13</span>) <span class="kw">%&gt;%</span>
  <span class="fu">mutate</span>(<span class="kw">weekamount</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="no">age</span> <span class="kw">%in%</span> <span class="fl">13</span>:<span class="fl">15</span>, <span class="no">total_units7_ch</span>, <span class="no">weekmean</span>)) <span class="kw">%&gt;%</span>
  <span class="fu">group_by</span>(<span class="no">age_cat</span>, <span class="no">sex</span>) <span class="kw">%&gt;%</span>
  <span class="fu">summarise</span>(<span class="kw">av_amount</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">weekamount</span>, <span class="kw">na.rm</span> <span class="kw">=</span> <span class="no">T</span>)) <span class="kw">%&gt;%</span>
  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">age_cat</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">av_amount</span>, <span class="kw">colour</span> <span class="kw">=</span> <span class="no">sex</span>, <span class="kw">shape</span> <span class="kw">=</span> <span class="no">sex</span>)) +
  <span class="fu">geom_point</span>(<span class="kw">size</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.5</span>) +
  <span class="fu">facet_wrap</span>(~ <span class="no">sex</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">1</span>) +
  <span class="fu">theme_minimal</span>() +
  <span class="fu">ylab</span>(<span class="st">"expected number of units drunk in a week"</span>)</pre></body></html></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://www.sheffield.ac.uk/scharr/sections/heds/staff/gillespie_d">Duncan Gillespie</a>, Laura Webster, <a href="https://www.sheffield.ac.uk/scharr/people/staff/damon-morris">Damon Morris</a>, <a href="https://www.sheffield.ac.uk/scharr/sections/heds/staff/angus_c">Colin Angus</a>, <a href="https://www.sheffield.ac.uk/scharr/sections/heds/staff/brennan_a">Alan Brennan</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
