<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Read the Health Survey for England 2007 — read_2007 • hseclean</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read the Health Survey for England 2007 — read_2007"><meta name="description" content="Reads and does basic cleaning on the Health Survey for England 2007."><meta property="og:description" content="Reads and does basic cleaning on the Health Survey for England 2007."><meta property="og:image" content="https://stapm.github.io/hseclean/logo.png"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-167990045-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-167990045-1');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hseclean</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.14.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/hseclean.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-methods-and-data-checks" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Methods and data checks</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-methods-and-data-checks"><li><a class="dropdown-item" href="../articles/english_hse_data_processing_methods.html">Health Survey for England methods</a></li>
    <li><a class="dropdown-item" href="../articles/Scotland_alcohol_data_report.html">Scotland alcohol data</a></li>
    <li><a class="dropdown-item" href="../articles/Scotland_tobacco_data_report.html">Scotland tobacco data</a></li>
    <li><a class="dropdown-item" href="../articles/Scotland_alcohol_upshifting_report.html">Scotland alcohol upshifting</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/STAPM/hseclean" aria-label="View on Github"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://gitlab.com/stapm/r-packages/hseclean" aria-label="View on Gitlab"><span class="fa fab fa-gitlab fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stapm.gitlab.io/software.html" aria-label="Back to the STAPM software page"><span class="fa fa-code"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Read the Health Survey for England 2007</h1>

      <div class="d-none name"><code>read_2007.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Reads and does basic cleaning on the Health Survey for England 2007.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_2007</span><span class="op">(</span></span>
<span>  root <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X:/"</span>, <span class="st">"/Volumes/Shared/"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  file <span class="op">=</span></span>
<span>    <span class="st">"HAR_PR/PR/Consumption_TA/HSE/Health Survey for England (HSE)/HSE 2007/UKDA-6112-tab/tab/hse07ai.tab"</span>,</span>
<span>  select_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tobalc"</span>, <span class="st">"all"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-root">root<a class="anchor" aria-label="anchor" href="#arg-root"></a></dt>
<dd><p>Character string - the root directory. This is the section of the file path to where the data is stored
that might vary depending on how the network drive is being accessed. The default is "X:/",
which corresponds to the University of Sheffield's X drive in the School of Health and Related Research.
Within the function, the root is pasted onto the front of the rest of the file path specified in the 'file' argument.
Thus, if root = NULL, then the complete file path is given in the 'file' argument.</p></dd>


<dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p>Character string - the file path and the name and extension of the file. The function has been
designed and tested to work with tab delimited files '.tab'. Files are read by the function [data.table::fread].</p></dd>


<dt id="arg-select-cols">select_cols<a class="anchor" aria-label="anchor" href="#arg-select-cols"></a></dt>
<dd><p>Character string - select either:
"all" - keep all variables in the survey data;
"tobalc" - keep a reduced set of variables associated with tobacco and alcohol consumption and a selected set of
survey design and socio-demographic variables that are needed for the functions within the hseclean package to work.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a data table.</p>
    </div>
    <div class="section level2">
    <h2 id="survey-details">Survey details<a class="anchor" aria-label="anchor" href="#survey-details"></a></h2>


<p>The Health Survey for England 2007 was designed to provide data at both national and
regional level about the population living in private households in England. The sample for
the HSE 2007 comprised of two components: the core (general population) sample and a
boost sample of children aged 2-15. The core sample was designed to be representative of
the population living in private households in England and should be used for analyses at
the national level. The core sample was split in two for some modules of the 2007 survey,
further details are shown in Appendix A.</p>
<p>A random sample of 720 PSUs (Primary Sampling Units) was selected for the core and the
boost sample, an additional 180 PSUs were used to supplement the child boost sample. The
PSUs were selected with probability proportional to the total number of addresses within
them. Once selected, the PSUs were randomly allocated to the 12 months of the year (60
per month in the core sample, 15 per month in the additional child boost) so that each
 quarter provided a nationally representative sample.</p>
<p>Within each of the 720 core PSUs a sample of 36 addresses was selected. The selected
addresses were randomly allocated to either the core or child boost sample: 10 addresses to
the core sample and 26 to the child boost sample. In total therefore, there were 10 core
addresses allocated within each PSU, giving a total sample of 7,200 (720 x 10) core
addresses, and 18,720 child boost addresses (720 x 26).</p>
<p>For the 180 additional child boost PSUs, a random sample of 41 addresses was selected in
each PSU, giving a total sample of 7,380 addresses (180 x 41) for the additional child boost
sample. The total child boost sample was thus 26,100 addresses (18,720 from the child
boost sample in core points and 7,380 from the additional child boost sample).</p>
<p>For the HSE core sample, all adults aged 16 years or older at each household were selected
for the interview (up to a maximum of ten adults). However, a limit of two was placed on the
number of interviews carried out with children aged 0-15. For households with three or more
children, interviewers selected two children at random.</p>
<p>At boost addresses interviewers screened for households containing at least one child aged
2-15 years. For households which included eligible children, up to two were selected by the
interviewer for inclusion in the survey.</p>
<p>An interview with each eligible person was followed by a nurse visit both using computer
assisted interviewing (CAPI). The 2007 survey for adults focused on lifestyle behaviour,
knowledge and attitudes. Adults were asked modules of questions on general health, alcohol
consumption, smoking, and fruit and vegetable consumption. Knowledge and attitudes were
covered in self-completion questionnaires.</p>
<p>Children aged 13-15 were interviewed themselves, and parents of children aged 0-12 were
asked about their children, with the interview including questions on eating habits (fat and
sugar consumption) and fruit and vegetable consumption. Children in the boost sample only
were asked about physical activity.</p>
    </div>
    <div class="section level2">
    <h2 id="weighting">Weighting<a class="anchor" aria-label="anchor" href="#weighting"></a></h2>



<p>Individual weight</p>
<p>For analyses at the individual level, the weighting variable to use is (wt_int). These weights
are generated separately for adults and children:</p><ul><li><p>for adults (aged 16 or more), the interview weights are a combination of the household
weight and a component which adjusts the sample to reduce bias from individual nonresponse within households;</p></li>
<li><p>for children (aged 0 to 15), the weights are generated from the household weights and
the child selection weights – the selection weights correct for only including a maximum
of two children in a household. The combined household and child selection weight were
adjusted to ensure that the weighted age/sex distribution matched that of all children in
co-operating households.</p></li>
</ul><p>For analysis of children aged 0-15 in both the Core and the Boost sample, taking into
account child selection only and not adjusting for non-response, the (wt_child) variable can
be used. For analysis of children aged 2-15 in the only Boost sample the (wt_childb)
variable can</p>
    </div>
    <div class="section level2">
    <h2 id="missing-values">Missing values<a class="anchor" aria-label="anchor" href="#missing-values"></a></h2>



<ul><li><p>-1 Not applicable: Used to signify that a particular variable did not apply to a given respondent
usually because of internal routing. For example, men in women only questions.</p></li>
<li><p>-2 Schedule not applicable: Used mainly for variables on the self-completions when the
respondent was not of the given age range, also used for children without legal guardians in the
home who could not participate in the nurse schedule.</p></li>
<li><p>-8 Don't know, Can't say.</p></li>
<li><p>-9 No answer/ Refused</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="how-the-data-is-read-and-processed">How the data is read and processed<a class="anchor" aria-label="anchor" href="#how-the-data-is-read-and-processed"></a></h2>


<p>The data is read by the function [data.table::fread]. The 'root' and 'file' arguments are
pasted together to form the file path. The following are converted to NA:
c("NA", "", "-1", "-2", "-6", "-7", "-8", "-9", "-90", "-90.0", "-99", "N/A").
All variable names are converted to lower case.
The cluster and probabilistic sampling unit have the year appended to them.
Some renaming of variables is done for consistency with other years.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data_2007</span> <span class="op">&lt;-</span> <span class="fu">read_2007</span><span class="op">(</span><span class="st">"X:/"</span>, <span class="st">"ScHARR/PR_Consumption_TA/HSE/HSE 2007/UKDA-6112-tab/tab/hse07ai.tab"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.sheffield.ac.uk/scharr/people/staff/duncan-gillespie" class="external-link">Duncan Gillespie</a>, Laura Webster, Grace Leeming, Ryan KL Chen, <a href="https://www.sheffield.ac.uk/scharr/people/staff/damon-morris" class="external-link">Damon Morris</a>, <a href="https://www.sheffield.ac.uk/scharr/people/staff/colin-angus" class="external-link">Colin Angus</a>, <a href="https://www.sheffield.ac.uk/scharr/people/staff/alan-brennan" class="external-link">Alan Brennan</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

